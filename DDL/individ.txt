CREATE TABLE "INDIVID"(
    "CNP" CHAR(13),
    "NUME" VARCHAR2(50),
    "VARSTA" NUMBER(3),
    "OCUPATIE" VARCHAR2(30),
    "CAZIER" VARCHAR2(70),
    "SIT_MED" VARCHAR2(70),
    "ID_PV" NUMBER(4),
    "ID_MASINA" NUMBER(4),
    PRIMARY KEY("CNP") USING INDEX ENABLE
);

Constraint "NUME" not null:
ALTER TABLE "INDIVID"
MODIFY "NUME" VARCHAR2(50) NOT NULL;

Constraint "CAZIER":
ALTER TABLE "INDIVID"
ADD CONSTRAINT check_cazier_format
CHECK (REGEXP_LIKE(CAZIER, '^(CURAT|[A-Za-z ]+)$') AND NOT REGEXP_LIKE(CAZIER, '^CURAT .+'));

Constraint "SIT_MED":
ALTER TABLE "INDIVID"
ADD CONSTRAINT check_sitmed_format
CHECK (REGEXP_LIKE(SIT_MED, '^(NU ARE PROBLEME|[A-Za-z ]+)$') AND NOT REGEXP_LIKE(SIT_MED, '^NU ARE PROBLEME .+'));

Constraint "CNP" prima cifra:
ALTER TABLE "INDIVID"
ADD CONSTRAINT check_cnp_format
CHECK ((SUBSTR(CNP, 1, 1) IN ('1', '2') AND VARSTA >= 25) OR
    (SUBSTR(CNP, 1, 1) IN ('5', '6') AND VARSTA < 25))


Constraint cheie straina ID_PV:
ALTER TABLE "INDIVID" ADD CONSTRAINT "IDPV_CON" FOREIGN KEY ("ID_PV")
	  REFERENCES "PUNCT VAMAL" ("ID_PV") ON DELETE CASCADE ENABLE;


Constraint cheie straina ID_MASINA:
ALTER TABLE "INDIVID" ADD CONSTRAINT "IDMASINA_CON" FOREIGN KEY ("ID_MASINA")
	  REFERENCES "MASINA" ("ID_MASINA") ON DELETE CASCADE ENABLE;



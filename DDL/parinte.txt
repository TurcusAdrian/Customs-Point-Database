CREATE TABLE "PARINTE"(
    "CNP" CHAR(13),
    "NUME" VARCHAR2(50) NOT NULL,
    "VARSTA" NUMBER(3),
    "SEX" CHAR(1),
    "OCUPATIE" VARCHAR2(30),
    "CAZIER" VARCHAR2(70),
    "SIT_MED" VARCHAR2(70),
    "ID_FAM" NUMBER(4),
    PRIMARY KEY("CNP") USING INDEX ENABLE
);


Constraint CAZIER:
ALTER TABLE "PARINTE"
ADD CONSTRAINT check_cazier_format_parinte
CHECK (REGEXP_LIKE(CAZIER, '^(CURAT|[A-Za-z ]+)$') AND NOT REGEXP_LIKE(CAZIER, '^CURAT .+'));


Constraint SIT_MED:
ALTER TABLE "PARINTE"
ADD CONSTRAINT check_sitmed_format_parinte
CHECK (REGEXP_LIKE(SIT_MED, '^(NU ARE PROBLEME|[A-Za-z ]+)$') AND NOT REGEXP_LIKE(SIT_MED, '^NU ARE PROBLEME .+'));


Constraint CNP:
ALTER TABLE "PARINTE"
ADD CONSTRAINT check_cnp_format_parinte
CHECK ((SUBSTR(CNP, 1, 1) IN ('1', '2') AND VARSTA >= 25) OR
    (SUBSTR(CNP, 1, 1) IN ('5', '6') AND VARSTA < 25))


Constraint SEX:
ALTER TABLE "PARINTE"
ADD CONSTRAINT chk_sex_parinte 
CHECK (SEX = 'M' OR SEX = 'F');


Constraint ID_FAM foreign key:
ALTER TABLE "PARINTE" ADD CONSTRAINT "IDFAM_CON_PARINTE" FOREIGN KEY ("ID_FAM")
	  REFERENCES "FAMILIE" ("ID_FAM") ON DELETE CASCADE ENABLE;